node{
  stage('Github'){
    git 'https://github.com/sebsot/deploy'
  }
tools {
        // Nombre de la herramienta configurada en Jenkins
        sonarqube 'SonarQube Scanner'
    }
  stage('Analisis SonarQube'){
      def scannerHome = tool 'SonarQube Scanner'
      withSonarQubeEnv('SonarQube Server') {
        sh "${scannerHome}/bin/sonar-scanner"
  }
}
}

/*
 def mvnHome = tool name: 'Maven'
    withSonarQubeEnv('jenkins-deploy'){
      sh "${mvnHome}/bin/mvn sonar:sonar"

sh 'mvn clean install sonar:sonar'
*/
    
